@model Wamasys.Models.ProductsViewModel
@{
    ViewBag.Title = "Product catalogue";
}

@Html.ValidationSummary(true, "", new { @class = "alert alert-info" })

<div class="row">
    <div class="col-md-8">
        <h3>@ViewBag.Title</h3>
        <hr/>

        @foreach (var item in Model.Products)
        {
            <div class="col-md-6">
                <ul class="list-group">
                    <li class="list-group-item">@item.Name</li>
                    <li class="list-group-item"><strong>Product code: </strong>@item.ProductId</li>
                    <li class="list-group-item"><strong>Supplier code: </strong>@item.SupplierId</li>
                    @if (item.Name.Contains("Lego"))
                    {
                        <li class="list-group-item"><span class="label label-danger">Lego</span></li>
                    }
                    else if (item.Name.Contains("Duplo"))
                    {
                        <li class="list-group-item"><span class="label label-warning">Duplo</span></li>
                    }
                    <li class="list-group-item">
                        @Html.ActionLink("More information", "Product", new {id = item.ProductId}, new {@class = "btn btn-default"})
                    </li>
                </ul>
            </div>           
        }
    </div>

    <div class="col-md-4">
        <div class="affix">
            <h3>Search</h3>
            <hr />

            @using (Html.BeginForm("AddCustomerOrder", "Order", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
            {
                @Html.AntiForgeryToken()

                <div class="form-horizontal">

                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="form-group">
                        @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-4" })
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.ProductId, htmlAttributes: new { @class = "control-label col-md-4" })
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.ProductId, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.ProductId, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(model => model.SupplierId, htmlAttributes: new { @class = "control-label col-md-4" })
                        <div class="col-md-8">
                            @Html.EditorFor(model => model.SupplierId, new { htmlAttributes = new { @class = "form-control" } })
                            @Html.ValidationMessageFor(model => model.SupplierId, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-offset-9 col-md-12">
                            <input type="submit" value="Search" class="btn btn-default" />
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>